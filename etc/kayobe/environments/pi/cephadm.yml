---
###############################################################################
# Cephadm deployment configuration.

# Ceph OSD specification.
cephadm_osd_spec:
  service_type: osd
  service_id: osd-ssd
  placement:
    host_pattern: "*"
  data_devices:
    all: true

# Ceph enable dashboard module.
cephadm_enable_dashboard: true

cephadm_bootstrap_additional_parameters: "--allow-fqdn-hostname"

###############################################################################
# Ceph post-deployment configuration.

# List of Ceph pools. See stackhpc.cephadm.pools role for format.
cephadm_pools:
  - name: backups
    application: rbd
    state: present
  - name: images
    application: rbd
    state: present
  - name: volumes
    application: rbd
    state: present
  - name: vms
    application: rbd
    state: present

# List of Cephx keys. See stackhpc.cephadm.keys role for format.
cephadm_keys:
  - name: client.cinder
    caps:
      mon: "profile rbd"
      osd: "profile rbd pool=volumes, profile rbd pool=vms, profile rbd-read-only pool=images"
      mgr: "profile rbd pool=volumes, profile rbd pool=vms"
    state: present
  - name: client.cinder-backup
    caps:
      mon: "profile rbd"
      osd: "profile rbd pool=volumes, profile rbd pool=backups"
      mgr: "profile rbd pool=volumes, profile rbd pool=backups"
    state: present
  - name: client.glance
    caps:
      mon: "profile rbd"
      osd: "profile rbd pool=images"
      mgr: "profile rbd pool=images"
    state: present
